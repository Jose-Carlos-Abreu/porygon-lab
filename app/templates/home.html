
{% extends "base.html" %}

{% block title %}Pokédex{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">

<header class="header">
    <h1>Pokédex</h1>

    {% if not logado %}
        <a href="{{ url_for('usuarios.login') }}" class="btn-login">Entrar</a>
    {% endif %}
</header>

<form method="GET" class="search-box">
    <input
        type="text"
        name="search"
        placeholder="Buscar por nome ou número"
        value="{{ request.args.get('search', '') }}"
    >

    <select name="tipo">
        <option value="">Todos os tipos</option>
        {% for tipo in tipos %}
            <option value="{{ tipo }}" {% if tipo == tipo_selecionado %}selected{% endif %}>
                {{ tipo|capitalize }}
            </option>
        {% endfor %}
    </select>

    <button type="submit">Buscar</button>
</form>

{% if erro %}
    <p class="error-text">{{ erro }}</p>
{% endif %}

<div class="container">
    {% for poke in pokemons %}
        <div class="card {{ poke.tipo1 | lower }}">
            
            <img
                src="{{ url_for('static', filename='images/pokemons/' + poke.imagem) }}"
                alt="{{ poke.nome }}"
            >
            
            <p>#{{ poke.id }}</p>

            <h2>{{ poke.nome }}</h2>

            <small>
                {{ poke.tipo1 }}
                {% if poke.tipo2 %}/ {{ poke.tipo2 }}{% endif %}
            </small>

            {% if logado %}
                <button class="favorite-btn" disabled>
                    ⭐ Favoritar
                </button>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}
